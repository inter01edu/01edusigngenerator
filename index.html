<!doctype html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">

    <style>
      /* =========================
         POLICE GLOBALE
      ========================= */
      html, body, table, td, a, div {
        font-family: Gotham, "Gotham", Arial, sans-serif;
      }

      /* =========================
         LOGO
      ========================= */
      .logo01edu {
        padding-right: 6px;
        padding-bottom: 8px; /* ðŸ‘ˆ espace sous le logo */
        text-align: center;
      }

      .logo01edu img {
        width: 100px;
        height: auto;
        display: inline-block;
      }

      /* =========================
         RÃ‰SEAUX SOCIAUX
      ========================= */
      .social img {
        width: 22px;
        height: 22px;
        object-fit: contain;
        display: block;
      }

      .social table {
        width: auto;
        margin: 0 auto;
        border-collapse: collapse;
      }

      .social td {
        padding: 0 2px;
      }

      /* =========================
         TEXTE SIGNATURE
         ðŸ‘‰ MODIFIE ICI SEULEMENT
      ========================= */
      .sig-text td {
        line-height: 2.2;
        font-size: 12px;
      }
    </style>
  </head>

  <body>
    <script>
      function slugify(str) {
        return (str || "")
          .toLowerCase()
          .trim()
          .replace(/\s+/g, "-")
          .replace(/[^a-z0-9-]/g, "");
      }

      fetch("https://opensheet.elk.sh/1maVoCpxQUmelT_wpZzTZERPzW4y20zGeoLtQuxbFvXQ/1")
        .then(r => r.json())
        .then(users =>
          users.filter(Boolean).map(({ firstname, lastname, title, mobile }) => {
            const slug = slugify(`${firstname} ${lastname}`);

            return `
              <div id="${slug}" style="display:flex; margin:10px 0;">
                <div style="flex-grow:1; background:#eee;"></div>
                <a href="#${slug}" style="color:grey; text-decoration:none;">ðŸ”—</a>
              </div>

              <table width="100%" cellpadding="0" cellspacing="0" style="border-collapse:collapse;">
                <tr>
                  <td width="100">
                    <table cellpadding="0" cellspacing="0" style="text-align:center;">
                      <tr>
                        <td class="logo01edu">
                          <img src="./images/logo01edu.svg" alt="01Edu Logo">
                        </td>
                      </tr>
                      <tr>
                        <td class="social">
                          <table>
                            <tr>
                              <td><a href="https://www.linkedin.com/company/01edu/"><img src="./images/linkedin.svg"></a></td>
                              <td><a href="https://www.youtube.com/@01Edu_ai"><img src="./images/youtube.svg"></a></td>
                              <td><a href="https://www.instagram.com/01edu_ai/"><img src="./images/instagram.svg"></a></td>
                            </tr>
                          </table>
                        </td>
                      </tr>
                    </table>
                  </td>

                  <td width="3" style="background:#0063f9;"></td>
                  <td width="3"></td>

                  <td>
                    <table class="sig-text" cellpadding="0" cellspacing="0">
                      <tr><td>Recode Our World With</td></tr>
                      <tr><td style="font-weight:bold; color:#0063f9;">${firstname} ${lastname}</td></tr>
                      <tr><td style="font-weight:bold;">${title || ""}</td></tr>
                      ${mobile ? `<tr><td>Mobile: ${mobile}</td></tr>` : ""}
                      <tr><td><a href="https://www.01edu.ai" style="color:#0063f9;">www.01edu.ai</a></td></tr>
                    </table>
                  </td>
                </tr>

                <tr>
                  <td colspan="4" style="padding-top:20px; font-size:12px; color:#666;">
                    Any electronic messages sent outside your regular working hours do not require a response until you return to your normal working hours.
                  </td>
                </tr>
              </table>
            `;
          })
        )
        .then(html => document.body.innerHTML += html.join("<br>"));
    </script>
  </body>
</html>
